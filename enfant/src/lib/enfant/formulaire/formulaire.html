<div class="form-container p-fluid">
  <h2 class="mb-4">{{ title() }} un enfant</h2>
  <form [formGroup]="form">
    <!-- Select Button -->
    <div class="mb-4">
      <p-selectbutton
        [options]="[{ label: 'Garçon', value: 'Garçon' }, { label: 'Fille', value: 'Fille' }]"
        formControlName="genre">
      </p-selectbutton>
    </div>

    <!-- Nom Field -->
    <div class="mb-4">
      <p-floatlabel variant="on">
        <input id="nom" pInputText formControlName="nom" autocomplete="off" />
        <label for="nom">Nom</label>
      </p-floatlabel>
    </div>

    <!-- Prénom Field -->
    <div class="mb-4">
      <p-floatlabel variant="on">
        <input id="prenom" pInputText formControlName="prenom" autocomplete="off" />
        <label for="prenom">Prénom</label>
      </p-floatlabel>
    </div>

    <!-- Date de Naissance -->
    <div class="mb-4">
      <label class="font-bold block mb-2" for="birth_date">Date de naissance</label>
      <p-datepicker inputId="birth_date" formControlName="dateNaissance" [showIcon]="true"  dateFormat="dd/mm/yy"></p-datepicker>
    </div>

    <!-- Âge -->
    @if (form.get('dateNaissance')?.value) {
    <div class="mb-4" >
      <p>Âge : {{ age }}</p>
    </div>
    }

    <!-- Actions -->
    <div class="actions flex justify-content-center gap-3">
      <p-button type="button" label="Annuler" (keydown)="onCancel()" (click)="onCancel()" severity="danger"></p-button>
      <p-button type="button" label="Enregistrer" (keydown)="onSubmit()" (click)="onSubmit()" severity="success"></p-button>
    </div>
  </form>
</div>
